/*! For license information please see vex.js.LICENSE.txt */
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).vex=e()}((function(){return function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return i(t[s][1][e]||e)}),d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,o=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},a=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,r=n.length;o<r;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=a.prototype=[],d=function(){return new a(this)};if(s.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==l(this,e+="")},c.add=function(){var e,t=arguments,n=0,o=t.length,i=!1;do{e=t[n]+"",-1===l(this,e)&&(this.push(e),i=!0)}while(++n<o);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,o=0,i=n.length,r=!1;do{for(e=n[o]+"",t=l(this,e);-1!==t;)this.splice(t,1),r=!0,t=l(this,e)}while(++o<i);r&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),o=n?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},o.defineProperty){var u={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,t,u)}catch(e){void 0!==e.number&&-2146823252!==e.number||(u.enumerable=!1,o.defineProperty(n,t,u))}}else o.prototype.__defineGetter__&&n.__defineGetter__(t,d)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,o=arguments.length;for(n=0;n<o;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},{}],2:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o)return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild);var i,s=r[o]||r._default,l=s[0],a=s[1],c=s[2];for((i=t.createElement("div")).innerHTML=a+e+c;l--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var d=t.createDocumentFragment();i.firstChild;)d.appendChild(i.removeChild(i.firstChild));return d};var o,i=!1;"undefined"!=typeof document&&((o=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',i=!o.getElementsByTagName("link").length,o=void 0);var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"],r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"],r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,n){"use strict";function o(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r=Object.keys(Object(i)),s=0,l=r.length;s<l;s++){var a=r[s],c=Object.getOwnPropertyDescriptor(i,a);void 0!==c&&c.enumerable&&(n[a]=i[a])}}return n}t.exports={assign:o,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}}},{}],4:[function(e,t,n){e("classlist-polyfill"),e("es6-object-assign").polyfill();var o=e("domify"),i=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},r=function(e,t){if("string"==typeof t&&0!==t.length)for(var n=t.split(" "),o=0;o<n.length;o++){var i=n[o];i.length&&e.classList.add(i)}},s=function(){var e=document.createElement("div"),t={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}(),l="vex-closing",a="vex-open",c={},d=1,u=!1,f={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var n={};n.id=d++,c[n.id]=n,n.isOpen=!0,n.close=function(){if(!this.isOpen)return!0;var e=this.options;if(u&&!e.escapeButtonCloses)return!1;if(!1===function(){return!e.beforeClose||e.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var t=window.getComputedStyle(this.contentEl);function n(e){return"none"!==t.getPropertyValue(e+"animation-name")&&"0s"!==t.getPropertyValue(e+"animation-duration")}var o=n("")||n("-webkit-")||n("-moz-")||n("-o-"),i=function t(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(s,t),this.overlayEl.removeEventListener(s,t),delete c[this.id],this.rootEl.parentNode.removeChild(this.rootEl),this.bodyEl.removeChild(this.overlayEl),e.afterClose&&e.afterClose.call(this),0===Object.keys(c).length&&document.body.classList.remove(a))}.bind(this);return s&&o?(this.rootEl.addEventListener(s,i),this.overlayEl.addEventListener(s,i),this.rootEl.classList.add(l),this.overlayEl.classList.add(l)):i(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=i(e.content));var p=n.options=Object.assign({},f.defaultOptions,e),v=n.bodyEl=document.getElementsByTagName("body")[0],h=n.rootEl=document.createElement("div");h.classList.add("vex"),r(h,p.className);var m=n.overlayEl=document.createElement("div");m.classList.add("vex-overlay"),r(m,p.overlayClassName),p.overlayClosesOnClick&&h.addEventListener("click",(function(e){e.target===h&&n.close()})),v.appendChild(m);var y=n.contentEl=document.createElement("div");if(y.classList.add("vex-content"),r(y,p.contentClassName),y.appendChild(p.content instanceof window.Node?p.content:o(p.content)),h.appendChild(y),p.showCloseButton){var g=n.closeEl=document.createElement("div");g.classList.add("vex-close"),r(g,p.closeClassName),g.addEventListener("click",n.close.bind(n)),y.appendChild(g)}return document.querySelector(p.appendLocation).appendChild(h),p.afterOpen&&p.afterOpen.call(n),document.body.classList.add(a),n},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!c[t]&&c[t].close()},closeTop:function(){var e=Object.keys(c);return!!e.length&&c[e[e.length-1]].close()},closeAll:function(){for(var e in c)this.close(e);return!0},getAll:function(){return c},getById:function(e){return c[e]}};window.addEventListener("keyup",(function(e){27===e.keyCode&&(u=!0,f.closeTop(),u=!1)})),window.addEventListener("popstate",(function(){f.defaultOptions.closeAllOnPopState&&f.closeAll()})),f.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(f,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:i}),f.registerPlugin=function(e,t){var n=e(f),o=t||n.name;if(f[o])throw new Error("Plugin "+t+" is already registered.");f[o]=n},t.exports=f},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)}));